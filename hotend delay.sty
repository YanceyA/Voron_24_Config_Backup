i use this one on all my printer, even madmax toolchanger
```python
[gcode_macro M104]
rename_existing: M104.1
description: [T<index>] [S<temperature>] [D<Deadband>]
Set tool temperature and continue
T= Tool number [optional]. If this parameter is not provided, the current tool is used.
S= Target temperature
variable_default_deadband: 4.0
gcode:
{% set s = params.S|float %}

{% set tool_id = params.T if params.T is defined
else None if printer.toolchanger is not defined
else printer.toolchanger.tool_number %}
{% set extruder_num = tool_id if printer["tool T" ~ tool_id] is defined else "0" %}

{action_respond_info("tool " ~ extruder_num ~ " -> " ~ s ~ "Â°c")}
M104.1 T{extruder_num} S{s}


[gcode_macro M109]
rename_existing: M109.1
description: [T<index>] [S<temperature>] [D<Deadband>]
Set tool temperature and wait.
T= Tool number [optional]. If this parameter is not provided, the current tool is used.
S= Target temperature
D= Dead-band, allows the temperature variance +/- the deadband
variable_default_deadband: 4.0
gcode:
{% set s = params.S|float %}
{% set deadband = params.D|float if params.D is defined else default_deadband|float %}

M104 T{params.T} S{s}

{% set tool_id = params.T if params.T is defined
else None if printer.toolchanger is not defined
else printer.toolchanger.tool_number %}
{% set extruder = printer["tool T" ~ tool_id].extruder if printer["tool T" ~ tool_id] is defined else "extruder" %}
{% if s > 0 %}
TEMPERATURE_WAIT SENSOR={extruder} MINIMUM={s-(deadband/2)} MAXIMUM={s+(deadband/2)} ; Wait for hotend temp (within D degrees)
{% endif %}