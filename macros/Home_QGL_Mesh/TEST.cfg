[gcode_macro POKELOOP_PY]
variable_count: 3
variable_speed: 3
gcode:
  !emit(f"{rawparams} {params}")
  !for i in range(own_vars.count):
  !  emit(f"BEACON_POKE SPEED={own_vars.speed} TOP=5 BOTTOM=-0.3")

[gcode_macro test_loop]
gcode:
  !respond_info("Start...")
  !for i in range(10, 0, -1):
  ! respond_info(f"{i}...")
  ! sleep(1)
  !emit("G28 X")
